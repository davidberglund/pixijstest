<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://pixijs.download/release/pixi.js"></script>
    <script src="https://unpkg.com/hyperscript.org@0.9.7"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />   
    <style>
      .material-symbols-outlined {
        font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 48
      }
      .class {
        background-color: ;
      }
      </style>  
  </head>
  <body>
    <script>
      //let app = new PIXI.Application({ width: 840, height: 560 });
      //let app = new PIXI.Application({ width: 1240, height: 460, background: 'darkolivegreen' });
      const app = new PIXI.Application({ background: 'darkolivegreen' });
      document.body.appendChild(app.view);
      
      const container = new PIXI.Container();
      app.stage.addChild(container);
      
      const _texture = PIXI.Texture.from('ludwigsrobot.png');

      let robot = PIXI.Sprite.from('ludwigsrobot.png');
      //app.stage.addChild(robot);
  
      for (let i = 0; i < 1; i++) {
      const texture = new PIXI.Sprite(_texture);
      texture.anchor.set(0.1);
      texture.x = (i % 5) * 120;
      texture.y = Math.floor(i / 5) * 40;
      container.addChild(texture);
      }      

    // Move container to the center
    container.x = app.screen.width / 2;
    container.y = app.screen.height / 2;

    // Center bunny sprite in local container coordinates
    container.pivot.x = container.width / 2;
    container.pivot.y = container.height / 2;

    // Listen for animate update
    app.ticker.add((delta) => {
        // rotate the container!
        // use delta to create frame-independent transform
        //container.rotation -= 0.01 * delta;
    });

      // Add a variable to count up the seconds our demo has been running
      let elapsed = 0.0;
      // Tell our application's ticker to run a new callback every frame, passing
      // in the amount of time that has passed since the last tick
    
      app.ticker.add((delta) => {
        // Add the time to our total elapsed time
        elapsed += delta;
        // Update the sprite's X position based on the cosine of our elapsed time.  We divide
        // by 50 to slow the animation down a bit...
        container.x = 300.0
        container.y = 328.0
      });

      function right() {
        let elapsed = 0.0;
        app.ticker.add((delta) => {
          // Add the time to our total elapsed time
          elapsed += delta;
          // Update the sprite's X position based on the cosine of our elapsed time.  We divide
          // by 50 to slow the animation down a bit...
          container.x += 1.0 + Math.log2(elapsed/5.0) * 2.0; //abs(elapsed/20.0) * 10.0;
        });
      }
      function left() {
        let elapsed = 0.0;
        app.ticker.add((delta) => {
          // Add the time to our total elapsed time
          elapsed += delta;
          // Update the sprite's X position based on the cosine of our elapsed time.  We divide
          // by 50 to slow the animation down a bit...
          container.x -= 1.0 + Math.log2(elapsed/5.0) * 2.0; //abs(elapsed/20.0) * 10.0;

        });
      }
      function up() {
        //let elapsed = 0.0;
        app.ticker.add((delta) => {
          // Add the time to our total elapsed time
          elapsed += delta;
          // Update the sprite's X position based on the cosine of our elapsed time.  We divide
          // by 50 to slow the animation down a bit...
          container.y -= 1.0 + Math.log2(elapsed/5.0) * 2.0; //abs(elapsed/20.0) * 10.0;
        });
      }
      function down() {
        let elapsed = 0.0;
        app.ticker.add((delta) => {
          // Add the time to our total elapsed time
          elapsed += delta;
          // Update the sprite's X position based on the cosine of our elapsed time.  We divide
          // by 50 to slow the animation down a bit...
          container.y += 1.0 + Math.log2(elapsed/5.0) * 2.0; //abs(elapsed/20.0) * 10.0;
        });
      }
      function bigger() {
        container.width += 4.0
        container.height += 4.0
        };
      function smaller() {
        container.width -= 4.0
        container.height -= 4.0
        };

      function detectEdgeX() {
        let elapsed = 0.0;
        app.ticker.add((delta) => {
          // Add the time to our total elapsed time
          elapsed += delta;
          // Update the sprite's X position based on the cosine of our elapsed time.  We divide
          // by 50 to slow the animation down a bit...
          if (container.x >= 760.0) {
            container.x = 760.0
            //container.y = app.screen.height / 2;
          };
          if (container.x <= 60.0) {
            container.x = 60.0
            //container.y = app.screen.height / 2;
          };
        });        
      };
      function detectEdgeY() {
        let elapsed = 0.0;
        app.ticker.add((delta) => {
          // Add the time to our total elapsed time
          elapsed += delta;
          // Update the sprite's X position based on the cosine of our elapsed time.  We divide
          // by 50 to slow the animation down a bit...
          if (container.y >= 545.0) {
            container.y = 545.0
            //container.y = app.screen.height / 2;
          };
          if (container.y <= 80.0) {
            container.y = 80.0
            //container.y = app.screen.height / 2;
          };

        });        
      };

    let mainLoop = setInterval(
      function() {
        detectEdgeX();
        detectEdgeY();
      }, 40);

    </script>
    
    <button _="on click up()">
      <span class="material-symbols-outlined">
        arrow_upward
        </span>
    </button>
    <br>

    <!-- https://fonts.google.com/icons -->
    <button _="on click left()">
      <span class="material-symbols-outlined">
        arrow_back
        </span>
    </button>
    <button _="on click right()">
      <span class="material-symbols-outlined">
        arrow_forward
        </span>
    </button>
    <br>
    <button _="on click down()">
      <span class="material-symbols-outlined">
        arrow_downward
        </span>
    </button>
    <br>
    <!--button _="on click smaller()">
      Smaller
    </button>
    <button _="on click bigger()">
      Bigger
    </button-->

  </body>
</html>
