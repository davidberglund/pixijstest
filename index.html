<!doctype html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://pixijs.download/release/pixi.js"></script>
    <script src="https://unpkg.com/hyperscript.org@0.9.7"></script>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />   
    <style>
      .material-symbols-outlined {
        font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 48
      }
      .class {
        background-color: ;
      }
      </style>  
  </head>
  <body _="on keyup if the event's key is 'ArrowRight' jumpRight() else if the event's key is 'ArrowLeft' jumpLeft()">

  <script>
  const app = new PIXI.Application({ background: 'darkolivegreen' });
  document.body.appendChild(app.view);
  
  const container = new PIXI.Container();
  app.stage.addChild(container);
  
  const _texture = PIXI.Texture.from('ludwigsrobot.png');

  //let robot = PIXI.Sprite.from('ludwigsrobot.png');

  for (let i = 0; i < 1; i++) {
  const texture = new PIXI.Sprite(_texture);
  texture.anchor.set(0.1);
  texture.x = (i % 5) * 120;
  texture.y = Math.floor(i / 5) * 40;
  container.addChild(texture);
  }      

  // Move container to the center
  container.x = app.screen.width / 2;
  container.y = 500.0

  let elapsed = 0.0;
  app.ticker.add((delta) => {
    // Add the time to our total elapsed time
    //elapsed += delta;
    // Update the sprite's X position based on the cosine of our elapsed time.  We divide
    // by 50 to slow the animation down a bit...
    container.x = app.screen.width / 2;
    container.y = 500.0
  });

  function right() {
    let elapsed = 0.0;
    app.ticker.add((delta) => {
      // Add the time to our total elapsed time
      elapsed += delta;
      // Update the sprite's X position based on the cosine of our elapsed time.  We divide
      // by 50 to slow the animation down a bit...
      container.y = container.y
      container.x = container.x
      container.x += 10.0 * 2.0; //abs(elapsed/20.0) * 10.0;
    });
  }
  function left() {
    let elapsed = 0.0;
    app.ticker.add((delta) => {
      // Add the time to our total elapsed time
      elapsed += delta;
      // Update the sprite's X position based on the cosine of our elapsed time.  We divide
      // by 50 to slow the animation down a bit...
      container.y = container.y
      container.x = container.x
      container.x -= 10.0 * 2.0; //abs(elapsed/20.0) * 10.0;
    });
  }
  function up() {
    //let elapsed = 0.0;
    app.ticker.add((delta) => {
      // Add the time to our total elapsed time
      elapsed += delta;
      // Update the sprite's X position based on the cosine of our elapsed time.  We divide
      // by 50 to slow the animation down a bit...
      container.x = container.x
      container.y = container.y
      container.y -= 10.0 + Math.log2(elapsed) * 2.0; //abs(elapsed/20.0) * 10.0;
    });
  }
  function down() {
    let elapsed = 0.0;
    app.ticker.add((delta) => {
      // Add the time to our total elapsed time
      elapsed += delta;
      // Update the sprite's X position based on the cosine of our elapsed time.  We divide
      // by 50 to slow the animation down a bit...
      container.x = container.x
      container.y = container.y
      container.y += 10.0 + Math.log2(elapsed) * 2.0; //abs(elapsed/20.0) * 10.0;
    });
  }
  function detectEdgeX() {
    let elapsed = 0.0;
    app.ticker.add((delta) => {
      // Add the time to our total elapsed time
      elapsed += delta;
      // Update the sprite's X position based on the cosine of our elapsed time.  We divide
      // by 50 to slow the animation down a bit...
      if (container.x >= 720.0) {
        container.x = 720.0
        //container.y = app.screen.height / 2;
      };
      if (container.x <= 15.0) {
        container.x = 15.0
        //container.y = app.screen.height / 2;
      };
    });        
  };
  function detectEdgeY() {
    let elapsed = 0.0;
    app.ticker.add((delta) => {
      // Add the time to our total elapsed time
      elapsed += delta;
      // Update the sprite's X position based on the cosine of our elapsed time.  We divide
      // by 50 to slow the animation down a bit...
      if (container.y >= 480.0) {
        container.y = 480.0
        //container.y = app.screen.height / 2;
      };
      if (container.y <= 80.0) {
        container.y = 80.0
        //container.y = app.screen.height / 2;
      };

    });        
  };

  let mainLoop = setInterval(
    function() {
      detectEdgeX();
      detectEdgeY();
    }, 40);

  function moveUp() {
    up();
    detectEdgeX();
    detectEdgeY();
  }    
  function moveDown() {
    down();
    detectEdgeX();
    detectEdgeY();
  }    
  function moveRight() {
    right();
    detectEdgeX();
    detectEdgeY();
  }    
  function moveLeft() {
    left();
    detectEdgeX();
    detectEdgeY();
  }    

  function jumpRight() {
    setInterval(moveUp(), 8000);
    setInterval(moveUp(), 8000);
    setInterval(moveRight(), 4000);
    setInterval(moveRight(), 4000);
    };  
  function jumpLeft() {
    setInterval(moveUp(), 8000);
    setInterval(moveUp(), 8000);
    setInterval(moveLeft(), 4000);
    setInterval(moveLeft(), 4000);
  };  
  let gravityPull = setInterval(
    function () {
      moveDown();
  }, 15);

  gravityPull()
  </script>
    
    <!--button _="on click up()">
      <span class="material-symbols-outlined">
        arrow_upward
        </span>
    </button-->
    <br>

    <!-- https://fonts.google.com/icons -->
    <button _="on click jumpLeft()">
      <span class="material-symbols-outlined">
        arrow_back
        </span>
    </button>
    <button _="on click jumpRight()">
      <span class="material-symbols-outlined">
        arrow_forward
        </span>
    </button>
    <br>
    <!--button _="on click down()">
      <span class="material-symbols-outlined">
        arrow_downward
        </span>
    </button-->
    <br>
    <!--button _="on click smaller()">
      Smaller
    </button>
    <button _="on click bigger()">
      Bigger
    </button-->
    <!--button _="on click jumpLeft()">
      Jump left
    </button>
    <br>
    <button _="on click jumpRight()">
      Jump right
    </button-->

  </body>
</html>
